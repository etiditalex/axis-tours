<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Availability Calendar - Partner Dashboard - Axis Tours and Travel</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <nav class="nav-container">
            <a href="index.html" class="logo">
                <div class="logo-icon">
                    <div class="logo-globe"></div>
                    <div class="logo-airplane"></div>
                    <div class="logo-arc"></div>
                </div>
                <div class="logo-text">
                    <div class="logo-text-main">Axis</div>
                    <div class="logo-text-sub">Tours & Travel</div>
                </div>
            </a>
            <div class="hamburger" id="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
            <ul class="nav-menu" id="nav-menu">
                <li><a href="index.html">Home</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="destinations.html">Destinations</a></li>
                <li><a href="hotels.html">Hotels</a></li>
                <li><a href="blog.html">Blog</a></li>
                <li><a href="booking.html">Book Now</a></li>
                <li><a href="hotel-partner-portal.html">Partner Portal</a></li>
                <li><a href="contact.html">Contact</a></li>
                <li class="mobile-quote-btn"><a href="contact.html" class="btn-quote">Request A Quote</a></li>
            </ul>
        </nav>
    </header>

    <!-- Dashboard Header -->
    <section class="dashboard-hero">
        <div class="dashboard-hero-content">
            <div class="partner-info">
                <div class="partner-avatar">
                    <i class="fas fa-calendar-alt"></i>
                </div>
                <div class="partner-details">
                    <h1>Availability Calendar</h1>
                    <p>Manage room availability, block dates, and track bookings</p>
                    <div class="partner-status">
                        <span class="status-badge status-active">Baobab Beach Resort</span>
                        <a href="partner-dashboard.html" class="back-to-dashboard">
                            <i class="fas fa-arrow-left"></i> Back to Dashboard
                        </a>
                    </div>
                </div>
            </div>
            <div class="quick-actions">
                <button class="btn-secondary" onclick="showBlockDatesModal()">
                    <i class="fas fa-ban"></i> Block Dates
                </button>
                <button class="btn-secondary" onclick="showBulkUpdate()">
                    <i class="fas fa-edit"></i> Bulk Update
                </button>
            </div>
        </div>
    </section>

    <!-- Main Content -->
    <main class="dashboard-main">
        <!-- Calendar Controls -->
        <section class="dashboard-section">
            <div class="calendar-controls">
                <div class="calendar-navigation">
                    <button class="btn-nav" onclick="previousMonth()">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <h2 id="currentMonth">December 2024</h2>
                    <button class="btn-nav" onclick="nextMonth()">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
                <div class="calendar-filters">
                    <select id="roomFilter">
                        <option value="">All Rooms</option>
                        <option value="standard">Standard Room</option>
                        <option value="deluxe">Deluxe Room</option>
                        <option value="suite">Suite</option>
                        <option value="villa">Villa</option>
                    </select>
                    <button class="btn-secondary" onclick="today()">Today</button>
                    <button class="btn-secondary" onclick="showAvailabilitySettings()">
                        <i class="fas fa-cog"></i> Settings
                    </button>
                </div>
            </div>
        </section>

        <!-- Calendar View -->
        <section class="dashboard-section">
            <div class="calendar-container">
                <div class="calendar-header">
                    <div class="calendar-day-header">Sun</div>
                    <div class="calendar-day-header">Mon</div>
                    <div class="calendar-day-header">Tue</div>
                    <div class="calendar-day-header">Wed</div>
                    <div class="calendar-day-header">Thu</div>
                    <div class="calendar-day-header">Fri</div>
                    <div class="calendar-day-header">Sat</div>
                </div>
                <div class="calendar-grid" id="calendarGrid">
                    <!-- Calendar days will be dynamically generated -->
                </div>
            </div>
        </section>

        <!-- Availability Summary -->
        <div class="availability-content">
            <!-- Left Column - Calendar Details -->
            <div class="calendar-details">
                <section class="dashboard-section">
                    <h2>Availability Summary</h2>
                    <div class="availability-stats">
                        <div class="stat-item">
                            <div class="stat-icon available">
                                <i class="fas fa-check-circle"></i>
                            </div>
                            <div class="stat-content">
                                <div class="stat-number">24</div>
                                <div class="stat-label">Available Days</div>
                            </div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-icon booked">
                                <i class="fas fa-calendar-check"></i>
                            </div>
                            <div class="stat-content">
                                <div class="stat-number">7</div>
                                <div class="stat-label">Booked Days</div>
                            </div>
                        </div>
                        <div class="stat-icon blocked">
                            <i class="fas fa-ban"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-number">0</div>
                            <div class="stat-label">Blocked Days</div>
                        </div>
                    </div>
                </section>

                <!-- Room Availability Details -->
                <section class="dashboard-section">
                    <h2>Room Availability Details</h2>
                    <div class="room-availability-list">
                        <div class="room-availability-item">
                            <div class="room-info">
                                <span class="room-name">Standard Room</span>
                                <span class="room-count">4 rooms</span>
                            </div>
                            <div class="availability-status">
                                <span class="status available">Available</span>
                                <span class="status booked">2 Booked</span>
                                <span class="status blocked">0 Blocked</span>
                            </div>
                        </div>
                        <div class="room-availability-item">
                            <div class="room-info">
                                <span class="room-name">Deluxe Room</span>
                                <span class="room-count">3 rooms</span>
                            </div>
                            <div class="availability-status">
                                <span class="status available">Available</span>
                                <span class="status booked">1 Booked</span>
                                <span class="status blocked">0 Blocked</span>
                            </div>
                        </div>
                        <div class="room-availability-item">
                            <div class="room-info">
                                <span class="room-name">Suite</span>
                                <span class="room-count">2 rooms</span>
                            </div>
                            <div class="availability-status">
                                <span class="status available">Available</span>
                                <span class="status booked">0 Booked</span>
                                <span class="status blocked">0 Blocked</span>
                            </div>
                        </div>
                    </div>
                </section>
            </div>

            <!-- Right Column - Quick Actions & Settings -->
            <div class="availability-sidebar">
                <section class="dashboard-section">
                    <h2>Quick Actions</h2>
                    <div class="quick-actions-list">
                        <button class="action-btn-small" onclick="showBlockDatesModal()">
                            <i class="fas fa-ban"></i> Block Dates
                        </button>
                        <button class="action-btn-small" onclick="showBulkUpdate()">
                            <i class="fas fa-edit"></i> Bulk Update
                        </button>
                        <button class="action-btn-small" onclick="showAvailabilitySettings()">
                            <i class="fas fa-cog"></i> Availability Settings
                        </button>
                        <button class="action-btn-small" onclick="exportCalendar()">
                            <i class="fas fa-download"></i> Export Calendar
                        </button>
                    </div>
                </section>

                <section class="dashboard-section">
                    <h2>Legend</h2>
                    <div class="calendar-legend">
                        <div class="legend-item">
                            <div class="legend-color available"></div>
                            <span>Available</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color booked"></div>
                            <span>Booked</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color blocked"></div>
                            <span>Blocked</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color maintenance"></div>
                            <span>Maintenance</span>
                        </div>
                    </div>
                </section>

                <section class="dashboard-section">
                    <h2>Upcoming Bookings</h2>
                    <div class="upcoming-bookings">
                        <div class="booking-item">
                            <div class="booking-date">Dec 15-18</div>
                            <div class="booking-details">
                                <div class="guest-name">John Smith</div>
                                <div class="room-type">Deluxe Room</div>
                            </div>
                            <div class="booking-status confirmed">Confirmed</div>
                        </div>
                        <div class="booking-item">
                            <div class="booking-date">Dec 20-25</div>
                            <div class="booking-details">
                                <div class="guest-name">Sarah Johnson</div>
                                <div class="room-type">Suite</div>
                            </div>
                            <div class="booking-status pending">Pending</div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </main>

    <!-- Block Dates Modal -->
    <div class="modal" id="blockDatesModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Block Dates</h2>
                <button class="close-btn" onclick="closeBlockDatesModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form id="blockDatesForm">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="blockStartDate"><i class="fas fa-calendar"></i> Start Date</label>
                        <input type="date" id="blockStartDate" required>
                    </div>
                    <div class="form-group">
                        <label for="blockEndDate"><i class="fas fa-calendar"></i> End Date</label>
                        <input type="date" id="blockEndDate" required>
                    </div>
                </div>

                <div class="form-group">
                    <label for="blockReason"><i class="fas fa-info-circle"></i> Reason for Blocking</label>
                    <select id="blockReason" required>
                        <option value="">Select Reason</option>
                        <option value="maintenance">Maintenance</option>
                        <option value="renovation">Renovation</option>
                        <option value="private_event">Private Event</option>
                        <option value="staff_training">Staff Training</option>
                        <option value="other">Other</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="blockDescription"><i class="fas fa-sticky-note"></i> Description</label>
                    <textarea id="blockDescription" rows="3" placeholder="Provide additional details about the blocked period..."></textarea>
                </div>

                <div class="form-group">
                    <label for="affectedRooms"><i class="fas fa-bed"></i> Affected Rooms</label>
                    <div class="room-selection">
                        <label class="checkbox-item">
                            <input type="checkbox" value="standard"> Standard Room
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" value="deluxe"> Deluxe Room
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" value="suite"> Suite
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" value="villa"> Villa
                        </label>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn-secondary" onclick="closeBlockDatesModal()">Cancel</button>
                    <button type="submit" class="btn-primary">
                        <i class="fas fa-ban"></i> Block Dates
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h3>Axis Tours & Travel</h3>
                <p>Your trusted partner for unforgettable East African adventures.</p>
            </div>
            <div class="footer-section">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="destinations.html">Destinations</a></li>
                    <li><a href="hotels.html">Hotels</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Contact Info</h3>
                <p>Email: info@axistours.com</p>
                <p>Phone: +254 700 000 000</p>
                <p>Address: Nairobi, Kenya</p>
            </div>
            <div class="footer-section">
                <h3>Follow Us</h3>
                <div class="social-links">
                    <a href="#"><i class="fab fa-facebook"></i></a>
                    <a href="#"><i class="fab fa-twitter"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-linkedin"></i></a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2024 Axis Tours & Travel. All rights reserved.</p>
        </div>
    </footer>

    <script>
        let currentDate = new Date();
        let currentMonth = currentDate.getMonth();
        let currentYear = currentDate.getFullYear();

        // Initialize availability calendar
        document.addEventListener('DOMContentLoaded', function() {
            renderCalendar();
            setupEventListeners();
        });

        // Setup event listeners
        function setupEventListeners() {
            // Room filter
            document.getElementById('roomFilter').addEventListener('change', function(e) {
                filterCalendarByRoom(e.target.value);
            });

            // Block dates form submission
            document.getElementById('blockDatesForm').addEventListener('submit', function(e) {
                e.preventDefault();
                blockDates();
            });
        }

        // Render calendar
        function renderCalendar() {
            const calendarGrid = document.getElementById('calendarGrid');
            const currentMonthElement = document.getElementById('currentMonth');
            
            // Update month display
            const monthNames = ['January', 'February', 'March', 'April', 'May', 'June',
                               'July', 'August', 'September', 'October', 'November', 'December'];
            currentMonthElement.textContent = `${monthNames[currentMonth]} ${currentYear}`;
            
            // Clear previous calendar
            calendarGrid.innerHTML = '';
            
            // Get first day of month and number of days
            const firstDay = new Date(currentYear, currentMonth, 1).getDay();
            const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();
            
            // Add empty cells for days before month starts
            for (let i = 0; i < firstDay; i++) {
                const emptyDay = document.createElement('div');
                emptyDay.className = 'calendar-day empty';
                calendarGrid.appendChild(emptyDay);
            }
            
            // Add days of the month
            for (let day = 1; day <= daysInMonth; day++) {
                const dayElement = document.createElement('div');
                dayElement.className = 'calendar-day';
                dayElement.innerHTML = `
                    <div class="day-number">${day}</div>
                    <div class="day-availability">
                        <div class="availability-indicator available"></div>
                        <div class="availability-indicator booked"></div>
                        <div class="availability-indicator blocked"></div>
                    </div>
                    <div class="day-bookings">2</div>
                `;
                
                // Add click event for day selection
                dayElement.addEventListener('click', () => selectDay(day));
                
                // Check if it's today
                if (day === currentDate.getDate() && currentMonth === currentDate.getMonth() && currentYear === currentDate.getFullYear()) {
                    dayElement.classList.add('today');
                }
                
                calendarGrid.appendChild(dayElement);
            }
        }

        // Navigation functions
        function previousMonth() {
            currentMonth--;
            if (currentMonth < 0) {
                currentMonth = 11;
                currentYear--;
            }
            renderCalendar();
        }

        function nextMonth() {
            currentMonth++;
            if (currentMonth > 11) {
                currentMonth = 0;
                currentYear++;
            }
            renderCalendar();
        }

        function today() {
            currentDate = new Date();
            currentMonth = currentDate.getMonth();
            currentYear = currentDate.getFullYear();
            renderCalendar();
        }

        // Select day
        function selectDay(day) {
            console.log(`Selected day: ${day}/${currentMonth + 1}/${currentYear}`);
            // Implementation for day selection
        }

        // Filter calendar by room
        function filterCalendarByRoom(roomType) {
            console.log('Filtering calendar by room type:', roomType);
            // Implementation for room filtering
        }

        // Show block dates modal
        function showBlockDatesModal() {
            document.getElementById('blockDatesModal').style.display = 'flex';
        }

        // Close block dates modal
        function closeBlockDatesModal() {
            document.getElementById('blockDatesModal').style.display = 'none';
            document.getElementById('blockDatesForm').reset();
        }

        // Block dates
        function blockDates() {
            const startDate = document.getElementById('blockStartDate').value;
            const endDate = document.getElementById('blockEndDate').value;
            const reason = document.getElementById('blockReason').value;
            const description = document.getElementById('blockDescription').value;
            const affectedRooms = Array.from(document.querySelectorAll('input[type="checkbox"]:checked')).map(cb => cb.value);

            if (!startDate || !endDate || !reason) {
                alert('Please fill in all required fields');
                return;
            }

            // Simulate blocking dates
            alert('Dates blocked successfully!');
            closeBlockDatesModal();
        }

        // Other functions
        function showBulkUpdate() {
            window.location.href = 'bulk-operations.html';
        }

        function showAvailabilitySettings() {
            window.location.href = 'room-management.html';
        }

        function exportCalendar() {
            // Create a simple calendar export
            const data = [
                ['Date', 'Available Rooms', 'Booked Rooms', 'Total Rooms'],
                ['2024-01-01', '45', '15', '60'],
                ['2024-01-02', '42', '18', '60'],
                ['2024-01-03', '38', '22', '60']
            ];
            
            const csvContent = data.map(row => row.join(',')).join('\n');
            const blob = new Blob([csvContent], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'availability-calendar.csv';
            a.click();
            window.URL.revokeObjectURL(url);
        }

        // Hamburger Menu
        const hamburger = document.getElementById('hamburger');
        const navMenu = document.getElementById('nav-menu');

        hamburger.addEventListener('click', () => {
            hamburger.classList.toggle('active');
            navMenu.classList.toggle('active');
        });

        // Close menu when clicking on a link
        document.querySelectorAll('.nav-menu a').forEach(link => {
            link.addEventListener('click', () => {
                hamburger.classList.remove('active');
                navMenu.classList.remove('active');
            });
        });

        // Close modal when clicking outside
        window.addEventListener('click', function(e) {
            const modal = document.getElementById('blockDatesModal');
            if (e.target === modal) {
                closeBlockDatesModal();
            }
        });
    </script>
</body>
</html>
